---
title: 校园网多终端上网方案
toc: true

tags:
  - 网络
date: 2016-06-12 17:09:50
---
现在有不少学校的校园网同一个帐号只能同时在一个或者两个设备登陆，一旦你使用的设备超过这个数量，就会很麻烦，这里介绍两种代理上网的方案，适用于那种有一台电脑常开着的情况。
如果你有一台可以上网的电脑A，如何通过让其他设备都通过A上网呢？最常见的就是在A电脑上开一个热点，其他设备连接这个热点。但是这样做能够使用的范围很小，如果你在一个很大的局域网内，局域网内的机器不需要登陆帐号就可以互相Ping通，那么有更好的方式实现这一点。
<!-- more -->
## 使用代理软件
在机器Ａ上下载安装[CCProxy](http://www.ccproxy.com/),虽然是收费软件，但是可以免费使用，免费版本限制3个用户连接，自己使用的话应该够了。
开启服务器
![start_ccproxy](start_ccproxy.png)
然后在设置---高级---网络中取消禁止局域网外部用户访问的对勾，确定
![cancel](cancel.png)
在设置里面的本机局域网IP地址选择自动检测，如果自动检测不能上网，请手动选择机器A能够连接外网的那个IP。
![setting_ip](setting_ip.png)
保持主机A CCPROXY软件的运行。在主机B上配置ＨＴＴＰ代理或者scoket5代理，代理的地址是A的局域网IP地址，就是B能ping 通的那个IP地址，端口号默认HTTP是808，socket5是1080.
好了，现在主机B就可以上网了。现在的许多智能手机都原生支持HTTP代理，如何设置自行百度。

## 搭建VPN
使用代理的好处是配置简单，可以配置自定义的规则，让不同的程序使用不同的网络连接。但是有的程序不支持使用代理连接，这时候可以考虑使用VPN。

### openvpn
在A上安装OpenVPN以Server方式运行，并将A可以上网的网络适配器共享给OpenVPN的虚拟适配器。
![share_eth0](share_eth0.png)
在需要上网的手机或者电脑安装OpenVPN，并以Client方式运行，配置文件中填写A的ip地址，这里可以是IPv4，也可以是IPv6.IPv4可以在同一个学校通用，如果是IPv6地址，可以跨越学校，A机器在国内其他高校时，也可以使用。
这是一种使用其他学校校园网资源的方法，例如，可以通过这样的方法下载Ａ所在学校购买的数据库。

### softether
[softether](https://www.softether.org/)也是一个VPN软件，提供友好的操作界面，客户端可以直接使用Windows自带的VPN连接，支持大部分手机使用自带的VPN连接。而且还支持动态DNS服务，如果Ａ所在地方的IP经常变动，推荐使用这个软件。
通过它还可以建立级联连接，只要双方单向联通，就可以建立一条专用通道，实现互联互通。
